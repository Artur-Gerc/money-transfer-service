# Сервис перевода денег

Проект предоставляет REST API для обработки банковских переводов между картами с валидацией данных и подтверждением операций.

## Запуск проекта
Сборка и запуск через Docker. Для этого выполните команду, находясь в директории проекта (где находится файл docker-compose.yaml):

`docker-compose up -d`

Сервис будет доступен по адресу: http://localhost:5500

## Порты
- Внутри контейнера приложение работает на порту 8080
- На хосте приложение доступно на порту 5500

## API Endpoints

### Перевод денег

Endpoint: POST /transfer

**Пример запроса:**

```
json
{
   "cardFromNumber": "1234567812345678",
   "cardFromValidTill": "12/25",
   "cardFromCVV": "123",
   "cardToNumber": "8765432187654321",
   "amount": {
   "currency": "RUB",
   "value": 10000
   }
} 
```

**Пример успешного ответа:**

```
json
{
   "operationId": "1"
}
```

**Возможные ошибки:**

- Неверный номер карты (должен быть 16 символов)

- Неверный CVV (должен быть 3 символа)

- Неверный формат или истекший срок действия карты

- Неверный формат суммы

### Подтверждение операции
   
Endpoint: POST /confirmOperation

**Пример запроса:**

```
json
{
   "operationId": "1",
   "code": "1234"
}
```

**Пример успешного ответа:**

```
json
{
   "operationId": "1"
}
```

**Возможные ошибки:**

1. Код подтверждения меньше 4 символов

2. Код подтверждения пустой

## Интеграция с Frontend
Frontend приложение доступно по адресу:
https://serp-ya.github.io/card-transfer/

Frontend отправляет запросы на бэкенд по адресу:
http://localhost:5500

## Технические детали
1. Приложение использует Spring Boot

2. Для логирования используется SLF4J

3. Валидация данных карты включает:

- Проверку длины номера карты (16 символов)

- Проверку CVV (3 символа)

- Проверку срока действия карты

4. Для каждой операции генерируется уникальный ID

5. Комиссия за перевод составляет 0.01% от суммы